<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 4 MultiBlock data handling | R.ComDim (a tutorial)</title>
  <meta name="description" content="<p>R.ComDim is an R-package used for the analysis of multi-block datasets with
the chemometric method ComDim.</p>" />
  <meta name="generator" content="bookdown 0.29 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 4 MultiBlock data handling | R.ComDim (a tutorial)" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="<p>R.ComDim is an R-package used for the analysis of multi-block datasets with
the chemometric method ComDim.</p>" />
  <meta name="github-repo" content="f-puig/R.ComDim.Docs" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 4 MultiBlock data handling | R.ComDim (a tutorial)" />
  
  <meta name="twitter:description" content="<p>R.ComDim is an R-package used for the analysis of multi-block datasets with
the chemometric method ComDim.</p>" />
  

<meta name="author" content="Francesc Puig CastellvÃ­" />


<meta name="date" content="2022-10-22" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="create.html"/>
<link rel="next" href="multi-omics.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">R.ComDim (a tutorial)</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> About</a></li>
<li class="chapter" data-level="2" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>2</b> Introduction</a>
<ul>
<li class="chapter" data-level="2.1" data-path="introduction.html"><a href="introduction.html#ComDim"><i class="fa fa-check"></i><b>2.1</b> The ComDim method</a></li>
<li class="chapter" data-level="2.2" data-path="introduction.html"><a href="introduction.html#why"><i class="fa fa-check"></i><b>2.2</b> Why should I use ComDim?</a></li>
<li class="chapter" data-level="2.3" data-path="introduction.html"><a href="introduction.html#functions"><i class="fa fa-check"></i><b>2.3</b> Functions</a></li>
<li class="chapter" data-level="2.4" data-path="introduction.html"><a href="introduction.html#install"><i class="fa fa-check"></i><b>2.4</b> Install and load R.ComDim package</a></li>
<li class="chapter" data-level="2.5" data-path="introduction.html"><a href="introduction.html#references"><i class="fa fa-check"></i><b>2.5</b> References</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="create.html"><a href="create.html"><i class="fa fa-check"></i><b>3</b> Create a MultiBlock</a>
<ul>
<li class="chapter" data-level="3.1" data-path="create.html"><a href="create.html#option1"><i class="fa fa-check"></i><b>3.1</b> Option 1: for small MultiBlocks</a></li>
<li class="chapter" data-level="3.2" data-path="create.html"><a href="create.html#option2"><i class="fa fa-check"></i><b>3.2</b> Option 2: for large MultiBlocks</a></li>
<li class="chapter" data-level="3.3" data-path="create.html"><a href="create.html#option3"><i class="fa fa-check"></i><b>3.3</b> Option 3: from SummarizedExperiment or MultiAssayExperiment objects.</a></li>
<li class="chapter" data-level="3.4" data-path="create.html"><a href="create.html#correspondence"><i class="fa fa-check"></i><b>3.4</b> Sample correspondence across blocks</a></li>
<li class="chapter" data-level="3.5" data-path="create.html"><a href="create.html#splitRW"><i class="fa fa-check"></i><b>3.5</b> Splitting blocks by the Batch criterion.</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="handling.html"><a href="handling.html"><i class="fa fa-check"></i><b>4</b> MultiBlock data handling</a>
<ul>
<li class="chapter" data-level="4.1" data-path="handling.html"><a href="handling.html#inspecting-the-data"><i class="fa fa-check"></i><b>4.1</b> Inspecting the data</a></li>
<li class="chapter" data-level="4.2" data-path="handling.html"><a href="handling.html#processing"><i class="fa fa-check"></i><b>4.2</b> Data pre-processing</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="multi-omics.html"><a href="multi-omics.html"><i class="fa fa-check"></i><b>5</b> Multi-omics amd Multi-blocks</a>
<ul>
<li class="chapter" data-level="5.1" data-path="multi-omics.html"><a href="multi-omics.html#PART1"><i class="fa fa-check"></i><b>5.1</b> Data processing</a></li>
<li class="chapter" data-level="5.2" data-path="multi-omics.html"><a href="multi-omics.html#PART2"><i class="fa fa-check"></i><b>5.2</b> Data analysis</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="multi-omics.html"><a href="multi-omics.html#Saliences"><i class="fa fa-check"></i><b>5.2.1</b> Saliences</a></li>
<li class="chapter" data-level="5.2.2" data-path="multi-omics.html"><a href="multi-omics.html#Scores"><i class="fa fa-check"></i><b>5.2.2</b> Scores</a></li>
<li class="chapter" data-level="5.2.3" data-path="multi-omics.html"><a href="multi-omics.html#Loadings"><i class="fa fa-check"></i><b>5.2.3</b> Loadings</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="multi-omics.html"><a href="multi-omics.html#PART3"><i class="fa fa-check"></i><b>5.3</b> Data prediction</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="Section5.html"><a href="Section5.html"><i class="fa fa-check"></i><b>6</b> Data from a single omics data are multi-blocks</a>
<ul>
<li class="chapter" data-level="6.1" data-path="Section5.html"><a href="Section5.html#molecular-functions"><i class="fa fa-check"></i><b>6.1</b> Molecular functions</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="Section5.html"><a href="Section5.html#the-molecular-patwhays"><i class="fa fa-check"></i><b>6.1.1</b> The molecular patwhays</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="Section6.html"><a href="Section6.html"><i class="fa fa-check"></i><b>7</b> Data from a single omics data are multi-blocks</a>
<ul>
<li class="chapter" data-level="7.1" data-path="Section6.html"><a href="Section6.html#PLS"><i class="fa fa-check"></i><b>7.1</b> ComDim-Partial Least Squares (ComDim-PLS)</a></li>
<li class="chapter" data-level="7.2" data-path="Section6.html"><a href="Section6.html#PLS-DA"><i class="fa fa-check"></i><b>7.2</b> ComDim-Partial Least Squares Discriminant Analysis (ComDim-PLSDA)</a></li>
<li class="chapter" data-level="7.3" data-path="Section6.html"><a href="Section6.html#KOPLS"><i class="fa fa-check"></i><b>7.3</b> ComDim-kernel-OPLS</a></li>
<li class="chapter" data-level="7.4" data-path="Section6.html"><a href="Section6.html#Other"><i class="fa fa-check"></i><b>7.4</b> Other extensions</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="Section6.html"><a href="Section6.html#example-of-comdim-ica"><i class="fa fa-check"></i><b>7.4.1</b> Example of ComDim-ICA</a></li>
<li class="chapter" data-level="7.4.2" data-path="Section6.html"><a href="Section6.html#example-of-comdim-pls-version-ropls"><i class="fa fa-check"></i><b>7.4.2</b> Example of ComDim-PLS (version ropls)</a></li>
<li class="chapter" data-level="7.4.3" data-path="Section6.html"><a href="Section6.html#example-of-comdim-plsda-version-ropls"><i class="fa fa-check"></i><b>7.4.3</b> Example of ComDim-PLSDA (version ropls)</a></li>
<li class="chapter" data-level="7.4.4" data-path="Section6.html"><a href="Section6.html#example-of-comdim-oplsda-version-ropls"><i class="fa fa-check"></i><b>7.4.4</b> Example of ComDim-OPLSDA (version ropls)</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R.ComDim (a tutorial)</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="handling" class="section level1 hasAnchor" number="4">
<h1><span class="header-section-number">Chapter 4</span> MultiBlock data handling<a href="handling.html#handling" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="inspecting-the-data" class="section level2 hasAnchor" number="4.1">
<h2><span class="header-section-number">4.1</span> Inspecting the data<a href="handling.html#inspecting-the-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>We can easily read the content of a MultiBlock object with the following
functions:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="handling.html#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">getSampleNames</span>(MB)</span></code></pre></div>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="handling.html#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">getVariableNames</span>(MB)</span></code></pre></div>
<pre><code>## $b1
##  [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25
## [26] 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50
## 
## $b2
##  [1] &quot;V1&quot;  &quot;V2&quot;  &quot;V3&quot;  &quot;V4&quot;  &quot;V5&quot;  &quot;V6&quot;  &quot;V7&quot;  &quot;V8&quot;  &quot;V9&quot;  &quot;V10&quot; &quot;V11&quot; &quot;V12&quot;
## [13] &quot;V13&quot; &quot;V14&quot; &quot;V15&quot; &quot;V16&quot; &quot;V17&quot; &quot;V18&quot; &quot;V19&quot; &quot;V20&quot; &quot;V21&quot; &quot;V22&quot; &quot;V23&quot; &quot;V24&quot;
## [25] &quot;V25&quot; &quot;V26&quot; &quot;V27&quot; &quot;V28&quot; &quot;V29&quot; &quot;V30&quot; &quot;V31&quot; &quot;V32&quot; &quot;V33&quot; &quot;V34&quot; &quot;V35&quot; &quot;V36&quot;
## [37] &quot;V37&quot; &quot;V38&quot; &quot;V39&quot; &quot;V40&quot; &quot;V41&quot; &quot;V42&quot; &quot;V43&quot; &quot;V44&quot; &quot;V45&quot; &quot;V46&quot; &quot;V47&quot; &quot;V48&quot;
## [49] &quot;V49&quot; &quot;V50&quot; &quot;V51&quot; &quot;V52&quot; &quot;V53&quot; &quot;V54&quot; &quot;V55&quot; &quot;V56&quot; &quot;V57&quot; &quot;V58&quot; &quot;V59&quot; &quot;V60&quot;
## [61] &quot;V61&quot; &quot;V62&quot; &quot;V63&quot; &quot;V64&quot; &quot;V65&quot; &quot;V66&quot; &quot;V67&quot; &quot;V68&quot; &quot;V69&quot; &quot;V70&quot; &quot;V71&quot; &quot;V72&quot;
## [73] &quot;V73&quot; &quot;V74&quot; &quot;V75&quot; &quot;V76&quot; &quot;V77&quot; &quot;V78&quot; &quot;V79&quot; &quot;V80&quot;
## 
## $s1
##  [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25
## [26] 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50
## 
## $s2
##  [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25
## [26] 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50
## [51] 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75
## [76] 76 77 78 79 80</code></pre>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="handling.html#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">getVariableNames</span>(MB, <span class="at">block =</span> <span class="dv">2</span>)</span></code></pre></div>
<pre><code>##  [1] &quot;V1&quot;  &quot;V2&quot;  &quot;V3&quot;  &quot;V4&quot;  &quot;V5&quot;  &quot;V6&quot;  &quot;V7&quot;  &quot;V8&quot;  &quot;V9&quot;  &quot;V10&quot; &quot;V11&quot; &quot;V12&quot;
## [13] &quot;V13&quot; &quot;V14&quot; &quot;V15&quot; &quot;V16&quot; &quot;V17&quot; &quot;V18&quot; &quot;V19&quot; &quot;V20&quot; &quot;V21&quot; &quot;V22&quot; &quot;V23&quot; &quot;V24&quot;
## [25] &quot;V25&quot; &quot;V26&quot; &quot;V27&quot; &quot;V28&quot; &quot;V29&quot; &quot;V30&quot; &quot;V31&quot; &quot;V32&quot; &quot;V33&quot; &quot;V34&quot; &quot;V35&quot; &quot;V36&quot;
## [37] &quot;V37&quot; &quot;V38&quot; &quot;V39&quot; &quot;V40&quot; &quot;V41&quot; &quot;V42&quot; &quot;V43&quot; &quot;V44&quot; &quot;V45&quot; &quot;V46&quot; &quot;V47&quot; &quot;V48&quot;
## [49] &quot;V49&quot; &quot;V50&quot; &quot;V51&quot; &quot;V52&quot; &quot;V53&quot; &quot;V54&quot; &quot;V55&quot; &quot;V56&quot; &quot;V57&quot; &quot;V58&quot; &quot;V59&quot; &quot;V60&quot;
## [61] &quot;V61&quot; &quot;V62&quot; &quot;V63&quot; &quot;V64&quot; &quot;V65&quot; &quot;V66&quot; &quot;V67&quot; &quot;V68&quot; &quot;V69&quot; &quot;V70&quot; &quot;V71&quot; &quot;V72&quot;
## [73] &quot;V73&quot; &quot;V74&quot; &quot;V75&quot; &quot;V76&quot; &quot;V77&quot; &quot;V78&quot; &quot;V79&quot; &quot;V80&quot;</code></pre>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="handling.html#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">getBlockNames</span>(MB)</span></code></pre></div>
<pre><code>## [1] &quot;b1&quot; &quot;b2&quot; &quot;s1&quot; &quot;s2&quot;</code></pre>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="handling.html#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">getBlockNames</span>(MB, <span class="st">&quot;Batch&quot;</span>)</span></code></pre></div>
<pre><code>## NULL</code></pre>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="handling.html#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">getBlockNames</span>(MB, <span class="st">&quot;Metadata&quot;</span>)</span></code></pre></div>
<pre><code>## NULL</code></pre>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="handling.html#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ncolMultiBlock</span>(MB)</span></code></pre></div>
<pre><code>## [1] 50 80 50 80</code></pre>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="handling.html#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">nrowMultiBlock</span>(MB)</span></code></pre></div>
<pre><code>## [1] 10 10 10 10</code></pre>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="handling.html#cb28-1" aria-hidden="true" tabindex="-1"></a>MB2<span class="ot">&lt;-</span> <span class="fu">FilterSamplesMultiBlock</span>(MB, <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">9</span>)) <span class="co"># To create a MultiBlock with </span></span>
<span id="cb28-2"><a href="handling.html#cb28-2" aria-hidden="true" tabindex="-1"></a> <span class="co"># a sample subset. In this case, we selected samples 1-9.</span></span></code></pre></div>
<p>Or we can simply see all the content with <code>str()</code> function.</p>
<p>If needed, everything in the MB can be renamed.</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="handling.html#cb29-1" aria-hidden="true" tabindex="-1"></a>MB <span class="ot">&lt;-</span> <span class="fu">setBlockNames</span>(MB, <span class="fu">paste</span>(<span class="st">&quot;X&quot;</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>, <span class="at">sep =</span> <span class="st">&#39;&#39;</span>)) <span class="co"># The blocks</span></span>
<span id="cb29-2"><a href="handling.html#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="fu">getBlockNames</span>(MB)</span>
<span id="cb29-3"><a href="handling.html#cb29-3" aria-hidden="true" tabindex="-1"></a>MB <span class="ot">&lt;-</span> <span class="fu">setSampleNames</span>(MB, LETTERS[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>]) <span class="co"># The samples</span></span>
<span id="cb29-4"><a href="handling.html#cb29-4" aria-hidden="true" tabindex="-1"></a><span class="fu">getSampleNames</span>(MB)</span>
<span id="cb29-5"><a href="handling.html#cb29-5" aria-hidden="true" tabindex="-1"></a>MB <span class="ot">&lt;-</span> <span class="fu">setVariableNames</span>(MB, <span class="fu">paste</span>(<span class="st">&quot;vars&quot;</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">50</span>, <span class="at">sep =</span> <span class="st">&#39;&#39;</span>), <span class="dv">1</span>)</span>
<span id="cb29-6"><a href="handling.html#cb29-6" aria-hidden="true" tabindex="-1"></a><span class="fu">getVariableNames</span>(MB, <span class="dv">1</span>)</span></code></pre></div>
</div>
<div id="processing" class="section level2 hasAnchor" number="4.2">
<h2><span class="header-section-number">4.2</span> Data pre-processing<a href="handling.html#processing" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The <code>R.ComDim</code> package contains functions to easily apply some data
transformations. This can result in handy since we there is no need to build
the <code>MultiBlock</code> every time a new data transformation is tested.</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="handling.html#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="do">## NA removal</span></span>
<span id="cb30-2"><a href="handling.html#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="co"># We first add some NAs to the MultiBlock.</span></span>
<span id="cb30-3"><a href="handling.html#cb30-3" aria-hidden="true" tabindex="-1"></a>MB<span class="sc">@</span>Data<span class="sc">$</span>X2[<span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">5</span>),<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>)] <span class="ot">&lt;-</span> <span class="cn">NA</span> <span class="co"># Add some NAs</span></span>
<span id="cb30-4"><a href="handling.html#cb30-4" aria-hidden="true" tabindex="-1"></a>allMB <span class="ot">&lt;-</span> <span class="fu">NARemoveMultiBlock</span>(MB, <span class="at">method =</span> <span class="st">&#39;none&#39;</span>, <span class="at">minfrac =</span> <span class="fl">0.2</span>)</span>
<span id="cb30-5"><a href="handling.html#cb30-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Variables containing more than 20% of NAs will be discarded</span></span>
<span id="cb30-6"><a href="handling.html#cb30-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-7"><a href="handling.html#cb30-7" aria-hidden="true" tabindex="-1"></a><span class="do">## Data normalization</span></span>
<span id="cb30-8"><a href="handling.html#cb30-8" aria-hidden="true" tabindex="-1"></a>allMB <span class="ot">&lt;-</span> <span class="fu">NormalizeMultiBlock</span>(allMB, <span class="at">method =</span> <span class="st">&#39;norm&#39;</span>)</span>
<span id="cb30-9"><a href="handling.html#cb30-9" aria-hidden="true" tabindex="-1"></a><span class="co"># MB is normalized (mean-center and divided by the block norm)</span></span></code></pre></div>
<p>The <code>R.ComDim</code> package has been writted with the idea to result very flexible
and, as such, it allows the user to apply custom data transformations. For
instance, in the code below, all variables with values lower than the 5% of the
most intense value are discarded.</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="handling.html#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># MB is converted to matrix to calculate the max value.</span></span>
<span id="cb31-2"><a href="handling.html#cb31-2" aria-hidden="true" tabindex="-1"></a>maxMB <span class="ot">&lt;-</span> <span class="fu">max</span>(<span class="fu">MultiBlock2matrix</span>(allMB), <span class="at">na.rm =</span> <span class="cn">TRUE</span>) </span>
<span id="cb31-3"><a href="handling.html#cb31-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Variables are filtered with the ProcessMultiBlock() function.</span></span>
<span id="cb31-4"><a href="handling.html#cb31-4" aria-hidden="true" tabindex="-1"></a>allMB <span class="ot">&lt;-</span> <span class="fu">ProcessMultiBlock</span>(allMB,</span>
<span id="cb31-5"><a href="handling.html#cb31-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">FUN.SelectVars =</span> <span class="cf">function</span>(x) {<span class="fu">apply</span>(x,<span class="dv">2</span>,max) <span class="sc">&gt;</span> maxMB <span class="sc">*</span> <span class="fl">0.05</span>})</span></code></pre></div>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="create.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="multi-omics.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/f-puig/R.ComDim.Docs/edit/master/03-Data-handling.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf", "_main.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
